<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  
  
  
  <link rel="stylesheet" href="static/style2.css">

  
</head>

<style>
.target > div {
  display: none;
}
.target > div:target {
  display: block;
}
</style>

<body>
  <span class="bckg"></span>
<header>
  <h1>Dashboard</h1>
  <nav>
    <ul class="sel">
      <li id="Link1">
        <a href="#m1" data-title="Diagnosis">Diagnosis</a>
      </li>
      <li id="Link2">
        <a href="#m2"  data-title="Model">Model</a>
      </li>
      <li id="Link7">
        <a href="#m7"  data-title="Notebooks">Notebooks</a>
      </li>
      <li id="Link3">
        <a href="#m3"  data-title="Paper">Paper</a>
      </li>
      <li id="Link4">
        <a href="#m4"  data-title="Video">Video</a>
      </li>
      <li id="Link8">
        <a href="#m8"  data-title="AboutUS">About Us</a>
      </li>
      <li id="Link5">
        <a href="#m5"  data-title="Help">Help</a>
      </li>
      <li id="Link6">
        <a href="/"  data-title="Back">Back</a>
      </li>
    </ul>
  </nav>
</header>
<main>
  <div class="title">
    <h2>Diagnosis</h2>
  </div>
  <div class="target">
  <div id="m1">

  <article class="larg">
  <div>
      <h3>Your Clinical Note<span class="entypo-menu"></span></h3>
      {{ note | safe }}
      <!--<p>{{ t | safe}}</p> -->
      <!--<p>This dropdown contains the inputted clinical note. Here we will <font color="green">highlight</font> what made us predict the number 1 predicted ICD-9 code.</p> -->
    </div>
    <br>
    <center><p>Predicted Diagnoses</p></center>
    <div>
      <h3>{{ code[0] | safe }}<span class="entypo-menu"></span></h3>
      <p>Probability: {{format_probs[0] | safe }}</p>
      <p>Description: {{ description[0] | safe }}</p>
    </div>
    <div>
      <h3>{{ code[1] | safe }} <span class="entypo-menu"></span></h3>
      <p>Probability: {{format_probs[1] | safe }}</p>
      <p>Description: {{ description[1] | safe }}</p>
    </div>
    <div>
      <h3>{{ code[2] | safe }} <span class="entypo-menu"></span></h3>
      <p>Probability: {{format_probs[2] | safe }}</p>
      <p>Description: {{ description[2] | safe }}</p>
    </div>
  </article>
  </div>

  <!--Statistics from our Deep Learning Model -->
  <div id="m2">
  <article class="larg">
      <center><p>Data</p></center>
  <div>
  <h3>Mimic III<span class="entypo-menu"></span></h3>
          <p>Information: To train and test our model we used data from the MIMIC III database. MIMIC is an openly available dataset
          developed by the MIT Lab for Computational Physiology, comprising deidentified health data associated with
          ~40,000 critical care patients. It includes demographics, vital signs, laboratory tests, medications, and more.
        We used clinical notes from the noteevents table in this dataset as well as diagnosis codes from the
          diagnoses_icd table. More information about this database can be found from https://mimic.physionet.org.</p>
          <p>Preprocessing: The clinical notes were originally messy and hardly machine readable. To clean our data we remove stopwords, special characters, upper case characters, non-standard whitespace characters, and dates.</p>
  </div>




  <center><p>Deep Learning Model</p></center>
  <div>
  <h3>Feature Generation<span class="entypo-menu"></span></h3>
  <p>To create our feature we start by creating a clinical corpus by looping over each clincal note in the training set and extracting the clinical concepts. At this stage we are returned clinical words and phrases. We tokenize each clinical concept to create individual words in our vocabulary. We then create a tf-idf vectorizer and fit our vocabulary to it. We can then fit transform our cleaned clinical notes and perform SVD on it to reduce the dimensionality of our dataset, but still preserve the features in it. This outputs a feature vector with 1000 columns. </p>
  </div>
  <div>
  <h3>Model Architecture<span class="entypo-menu"></span></h3>
      <p>We implemented a sequential model with an LSTM layer with 32 neurons, a dropout layer, and a dense layer. The LSTM layer connects
      to the dropout layer which connects to the dense layer which classifies and outputs the probability over 1070 possible ICD-9 codes. The model was initially trained for 200 epochs, but stabilized around 10 epochs. We return the top 3 highest probabilities as the recommended diagnoses based off the patient's note.</p>
  </div>
  <center><p>Performance Measurements</p></center>
  <div>
  <h3>Accuracy<span class="entypo-menu"></span></h3>
      <p>98.7145%</p>
  <!--<p>Accuracy:</p>
  <p>Precision:</p>
  <p>Recall:</p>
  <p>F1 Score:</p>
  <p>Confusion Matrix:</p> -->
  </div>

  <div>
  <h3>Precision<span class="entypo-menu"></span></h3>
      <p>45.1830%</p>
  </div>

  <div>
  <h3>Recall<span class="entypo-menu"></span></h3>
      <p>45.1830%</p>
  </div>

  <div>
  <h3>F1 Score<span class="entypo-menu"></span></h3>
      <p>45.1830%</p>
  </div>

  <div>
  <h3>AUC<span class="entypo-menu"></span></h3>
      <p>0.722</p>
  </div>


  <!--<div>
  <h3>Confusion Matrix<span class="entypo-down-open"></span></h3>
  </div>
  <div>
  <h3>Learning Curve<span class="entypo-down-open"></span></h3>
  </div> -->
  <!--<br>
  <center><p>Predicted Confidence</p></center>
  <div>
  <h3>Confidence Statistics<span class="entypo-down-open"></span></h3>
  </div> -->
    <!--<div>
      <h3>250.01<span class="entypo-down-open"></span></h3>
      <p><b>Note 1: </b>the patient has nausea, is vomiting, and dehydrated.</p>
      <p><b>Note 2: </b>dehydration, hypervenilation, abdominal pain, nausea</p>
      <p><b>Note 3: </b>tired, dehydrated, vision trouble, right upper quadrant pain</p>
    </div>
    <div>
      <h3>250.02<span class="entypo-down-open"></span></h3>
      <p><b>Note 1:</b> This hurt, that hurt, blah blah, ICD test</p>
      <p><b>Note 2:</b> This hurt twice, that hurt, blah blah, ICD test</p>
      <p><b>Note 3:</b> This hurt omg , that hurt, blah blah, ICD test</p>
    </div>
    <div>
      <h3>250.03<span class="entypo-down-open"></span></h3>
      <p><b>Note 1:</b> stomach hurt, that hurt, blah blah, ICD test</p>
      <p><b>Note 2:</b> stomach hurt inflamed, that hurt, blah blah, ICD test</p>
      <p><b>Note 3:</b> note stomach full , that hurt, blah blah, ICD test</p>
    </div> -->
  </article>
  </div>



  <div id="m7">
  <article class="larg">
      <br><br>
      <style>
    .scrolly {
    /*overflow-y: auto; */
    position: relative;
    max-height: 600px;
}</style>
  <center><!--<iframe src="email.html" name="iframe_a" frameBorder="0"></iframe> -->
  <!--<iframe src="https://arxiv.org/pdf/1406.2661.pdf&embedded=true#zoom=90" style="width:718px; height:600px;" frameborder="0"></iframe> -->

      <p>Data Cleaning</p>
      <!--<div class="scrolly">--><iframe src="//ad1m.github.io/dr_ann_html/" style="width: 900px; height: 600px;" frameborder="0" allowfullscreen></iframe><!--</div>-->

      <p>Deep Learning Model</p>
      <!--<div class=>--><iframe src="//ad1m.github.io/dr_ann_html/Multiclass_LSTM.html" style="width: 900px; height: 600px;" frameborder="0" allowfullscreen></iframe><!--</div>-->

      <p>Metrics</p>
      <!--<div class="scrolly">--><iframe src="//ad1m.github.io/metrics.html" style="width: 900px; height: 600px;" frameborder="0" allowfullscreen></iframe><!--</div>-->
  </center>
  </article>
  </div>


  <div id="m3">
  <article class="larg">
      <br><br>
  <center><!--<iframe src="email.html" name="iframe_a" frameBorder="0"></iframe> -->
  <iframe src="https://arxiv.org/pdf/1406.2661.pdf&embedded=true#zoom=90" style="width:718px; height:600px;" frameborder="0"></iframe>
  </center>
  </article>
  </div>

  <div id="m4">
  <article class="larg">
  <center><!--<iframe src="email.html" name="iframe_a" frameBorder="0"></iframe> -->
  <iframe width="560" height="315" src="https://www.youtube.com/embed/WkkC9cK8Hz0" frameborder="0" allowfullscreen></iframe></center>
  </center>
  </article>
  </div>


  <div id="m8">
  <article class="larg">
  <div>
  <h3>Adam Lieberman<span class="entypo-menu"></span></h3>
  <p>Degrees: Undergraduate in Applied Mathematics & Masters in Computer Science with a specialization in Machine Learning both from
  the Georgia Institute of Technology</p>
  <p>Contact: adam.justin.lieberman@gmail.com</p>
  <p>GitHub: github.com/ad1m</p>
  </div>
  <div>
  <h3>Ravish Chawla<span class="entypo-menu"></span></h3>
  <p>Degrees: Undergraduate in Computer Science & Masters in Computer Science with a specialization in Machine Learning both from
  the Georgia Institute of Technology</p>
  <p>Contact: ravishchawla@gmail.com </p>
  <p>GitHub: github.com/ravishchawla</p>
  </div>
  <div>
  <h3>Garrett Mallory<span class="entypo-menu"></span></h3>
  <p>Degrees: Undergraduate in Computer Science & Masters in Computer Science with a specialization in Machine Learning both from
  the Georgia Institute of Technology</p>
  <p>Contact: gmallory3@gmail.com </p>
  <p>GitHub: github.com/gmallory3</p>
  </div>
  </article>
  </div>


 <div id ="m5">
      <article class="larg">
          <center><h4>Instructions</h4></center>
          <p><b>Diagnosis:</b> The diagnosis tab displays the deep learning model results. Under the "Your Clinical Note" tab
          you will find an annotated clinical note which displays any tests, treatments, or problems that were found
          in the note. Underneath the "Your Clinical Note" tab there are three boxes. Each of these boxes displays an ICD-9
          code. The first box contains the most likely predicted ICD-9 code based on the clinical note. The second box is
          the second most likely, and the third box is the third most likely. Inside each box you will find the model's
          probability for the prediction as well as a description of the ICD-9 code.</p>
          <br>
          <p><b>Model:</b> In the Model tab you will find information about our model such as the details of the data we used, how we build our features, the deep
          learning algorithm, and performance measurements on our test set.</p>
          <br>
          <p><b>Notebooks:</b> In the Notebooks tab you will find some jupyter notebooks, which contain some backend code used to create Dr. ANN. You will also
          find some plots in the notebooks.</p>
          <br>
          <p><b>Paper:</b> Here you will find the research paper, which outlines how we built our system.</p>
          <br>
          <p><b>Video:</b> Here you will find a video where we discuss how the system was built. You will also find a tutorial
          of the system here.</p>
          <br>
          <p><b>About Us:</b> Here you will learn more about the creators of Dr. ANN.</p>
          <br>
          <p><b>Help:</b> You are here.</p>
          <br>
          <p><b>Back:</b> Clicking the back button takes the user back to the main page, where another clinical note can be entered.</p>
      </article>
  </div>



  </div>
</main>
<script src='static/jquery.min.js'></script>
  <!--<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script> -->
  <script src="static/index.js"></script>
  <!-- Displays Diagnosis Tab, shows and hides other tabs when clicked -->
  <script>
  $(document).ready(function() {
      $("#m1").css('display','block')
      $("#m2").css('display','none');
      $("#m3").css('display','none');
      $("#m4").css('display','none');
      $("#m5").css('display','none');
      $("#m7").css('display','none');
      $("#m8").css('display','none');
    });
  $("#Link1").click(function() {
    $("#m1").show()
    $("#m2").hide()
    $("#m3").hide()
    $("#m4").hide()
    $("#m5").hide()
    $("#m7").hide()
    $("#m8").hide()
    }); 
  $("#Link2").click(function() {
    $("#m2").show()
    $("#m1").hide()
    $("#m3").hide()
    $("#m4").hide()
    $("#m5").hide()
    $("#m7").hide()
    $("#m8").hide()
    }); 
  $("#Link3").click(function() {
    $("#m3").show()
    $("#m1").hide()
    $("#m2").hide()
    $("#m4").hide()
    $("#m5").hide()
    $("#m7").hide()
    $("#m8").hide()
    });
  $("#Link4").click(function() {
    $("#m4").show()
    $("#m1").hide()
    $("#m2").hide()
    $("#m3").hide()
    $("#m5").hide()
    $("#m7").hide()
    $("#m8").hide()
    });
  $("#Link5").click(function() {
    $("#m5").show()
    $("#m1").hide()
    $("#m2").hide()
    $("#m3").hide()
    $("#m4").hide()
    $("#m7").hide()
    $("#m8").hide()
    });
  $("#Link7").click(function() {
    $("#m7").show()
    $("#m1").hide()
    $("#m2").hide()
    $("#m3").hide()
    $("#m4").hide()
    $("#m5").hide()
    $("#m8").hide()
    });
    $("#Link8").click(function() {
    $("#m8").show()
    $("#m1").hide()
    $("#m2").hide()
    $("#m3").hide()
    $("#m4").hide()
    $("#m5").hide()
    $("#m7").hide()
    });
  </script>
</body>
</html>
